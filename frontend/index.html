<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ–°é—»çƒ­ç‚¹ - ä½ çš„ä¸ªæ€§åŒ–æ–°é—»èšåˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+SC:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #f5f5f5;
            --bg-secondary: #ffffff;
            --bg-card: #ffffff;
            --text-primary: #333333;
            --text-secondary: #666666;
            --text-tertiary: #999999;
            --border: #e0e0e0;
            --shadow: rgba(0,0,0,0.05);
            --accent: #ff2442;
            --accent-hover: #e0203c;
            --sidebar-bg: #ffffff;
            --nav-bg: #ffffff;
        }
        
        [data-theme="dark"] {
            --bg-primary: #0d0d0d;
            --bg-secondary: #1a1a1a;
            --bg-card: #1a1a1a;
            --text-primary: #ffffff;
            --text-secondary: #b0b0b0;
            --text-tertiary: #666666;
            --border: #2a2a2a;
            --shadow: rgba(0,0,0,0.3);
            --accent: #ff2442;
            --accent-hover: #ff4d6a;
            --sidebar-bg: #141414;
            --nav-bg: #141414;
        }
        
        * { 
            font-family: 'Inter', 'Noto Sans SC', -apple-system, BlinkMacSystemFont, sans-serif;
            box-sizing: border-box;
        }
        
        body {
            background: var(--bg-primary);
            color: var(--text-primary);
            margin: 0;
            min-height: 100vh;
        }
        
        /* å·¦ä¾§è¾¹æ  */
        .sidebar {
            position: fixed;
            left: 0;
            top: 0;
            width: 200px;
            height: 100vh;
            background: var(--sidebar-bg);
            border-right: 1px solid var(--border);
            z-index: 100;
            padding: 20px 0;
            display: flex;
            flex-direction: column;
        }
        
        .sidebar-logo {
            padding: 0 20px 20px;
            font-size: 24px;
            font-weight: 700;
            color: var(--accent);
            letter-spacing: -1px;
        }
        
        .sidebar-nav {
            flex: 1;
            padding: 0 12px;
        }
        
        .sidebar-item {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            margin: 4px 0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            color: var(--text-secondary);
            font-size: 14px;
            font-weight: 500;
        }
        
        .sidebar-item:hover {
            background: var(--bg-primary);
            color: var(--text-primary);
        }
        
        .sidebar-item.active {
            background: var(--bg-primary);
            color: var(--accent);
            font-weight: 600;
        }
        
        .sidebar-item svg {
            width: 20px;
            height: 20px;
            margin-right: 12px;
        }
        
        .sidebar-footer {
            padding: 16px;
            border-top: 1px solid var(--border);
        }
        
        /* é¡¶éƒ¨å¯¼èˆª */
        .top-nav {
            position: fixed;
            top: 0;
            left: 200px;
            right: 0;
            height: 60px;
            background: var(--nav-bg);
            border-bottom: 1px solid var(--border);
            z-index: 99;
            display: flex;
            align-items: center;
            padding: 0 24px;
            justify-content: space-between;
        }
        
        .search-box {
            flex: 1;
            max-width: 500px;
            position: relative;
        }
        
        .search-box input {
            width: 100%;
            height: 40px;
            border-radius: 20px;
            border: 1px solid var(--border);
            background: var(--bg-primary);
            padding: 0 40px 0 16px;
            font-size: 14px;
            color: var(--text-primary);
            outline: none;
        }
        
        .search-box input::placeholder {
            color: var(--text-tertiary);
        }
        
        .search-box svg {
            position: absolute;
            right: 14px;
            top: 50%;
            transform: translateY(-50%);
            width: 18px;
            height: 18px;
            color: var(--text-tertiary);
        }
        
        .top-nav-right {
            display: flex;
            align-items: center;
            gap: 16px;
        }
        
        .theme-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border: 1px solid var(--border);
            background: transparent;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }
        
        /* ä¸»å†…å®¹åŒº */
        .main-container {
            margin-left: 200px;
            margin-top: 60px;
            padding: 24px 40px;
            min-height: calc(100vh - 60px);
        }
        
        /* åˆ†ç±»æ ‡ç­¾æ  */
        .category-tabs {
            display: flex;
            gap: 12px;
            margin-bottom: 24px;
            overflow-x: auto;
            padding-bottom: 4px;
        }
        
        .category-tabs::-webkit-scrollbar {
            display: none;
        }
        
        .tab-btn {
            padding: 8px 20px;
            border-radius: 20px;
            border: none;
            background: var(--bg-secondary);
            color: var(--text-secondary);
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            white-space: nowrap;
            border: 1px solid var(--border);
        }
        
        .tab-btn:hover {
            color: var(--text-primary);
            border-color: var(--text-tertiary);
        }
        
        .tab-btn.active {
            background: var(--accent);
            color: white;
            border-color: var(--accent);
        }
        
        /* ç€‘å¸ƒæµå¸ƒå±€ */
        .waterfall {
            column-count: 4;
            column-gap: 16px;
        }
        
        @media (max-width: 1400px) {
            .waterfall { column-count: 3; }
        }
        
        @media (max-width: 1100px) {
            .waterfall { column-count: 2; }
        }
        
        @media (max-width: 768px) {
            .sidebar { display: none; }
            .top-nav { left: 0; }
            .main-container { margin-left: 0; padding: 16px; }
            .waterfall { column-count: 2; column-gap: 12px; }
        }
        
        /* å¡ç‰‡æ ·å¼ */
        .card {
            background: var(--bg-card);
            border-radius: 12px;
            overflow: hidden;
            margin-bottom: 16px;
            break-inside: avoid;
            box-shadow: 0 2px 8px var(--shadow);
            transition: all 0.3s ease;
            cursor: pointer;
            border: 1px solid var(--border);
        }
        
        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px var(--shadow);
        }
        
        .card-image {
            width: 100%;
            aspect-ratio: 3/4;
            background: linear-gradient(135deg, #e6ddd4 0%, #d4c9bd 50%, #c9b8a8 100%);
            position: relative;
            overflow: hidden;
        }
        
        .card-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .card-image.shanghai { background: linear-gradient(135deg, #e6ddd4 0%, #c9b8a8 100%); }
        .card-image.world { background: linear-gradient(135deg, #d4dde6 0%, #a8b5c9 100%); }
        .card-image.ai { background: linear-gradient(135deg, #e6d4e0 0%, #c9a8c2 100%); }
        .card-image.stocks { background: linear-gradient(135deg, #d4e6d8 0%, #a8c9b0 100%); }
        .card-image.policy { background: linear-gradient(135deg, #e6e0d4 0%, #c9c2a8 100%); }
        
        .card-badge {
            position: absolute;
            top: 8px;
            left: 8px;
            padding: 4px 8px;
            background: rgba(0,0,0,0.6);
            color: white;
            font-size: 11px;
            border-radius: 4px;
            font-weight: 500;
        }
        
        .card-content {
            padding: 12px;
        }
        
        .card-title {
            font-size: 14px;
            font-weight: 500;
            line-height: 1.5;
            color: var(--text-primary);
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            margin-bottom: 8px;
        }
        
        .card-meta {
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-size: 12px;
            color: var(--text-tertiary);
        }
        
        .card-author {
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .card-avatar {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--accent);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 10px;
        }
        
        /* åŠ è½½åŠ¨ç”» */
        .loading {
            text-align: center;
            padding: 40px;
            color: var(--text-tertiary);
        }
        
        /* è¯¦æƒ…å¼¹çª— */
        .modal {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.6);
            backdrop-filter: blur(4px);
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 40px;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background: var(--bg-card);
            border-radius: 16px;
            max-width: 600px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
        }
        
        .modal-close {
            position: absolute;
            top: 16px;
            right: 16px;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            border: none;
            background: rgba(0,0,0,0.1);
            cursor: pointer;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .modal-body {
            padding: 24px;
        }
        
        .modal-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 12px;
            line-height: 1.4;
        }
        
        .modal-source {
            display: inline-block;
            padding: 4px 12px;
            background: var(--accent);
            color: white;
            border-radius: 4px;
            font-size: 12px;
            margin-bottom: 16px;
        }
        
        .modal-summary {
            font-size: 15px;
            line-height: 1.8;
            color: var(--text-secondary);
            margin-bottom: 20px;
            padding: 16px;
            background: var(--bg-primary);
            border-radius: 8px;
        }
        
        .modal-link {
            display: block;
            width: 100%;
            padding: 12px;
            background: var(--accent);
            color: white;
            text-align: center;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 500;
        }
    </style>
</head>
<body>
    <!-- å·¦ä¾§è¾¹æ  -->
    <aside class="sidebar">
        <div class="sidebar-logo">ğŸ“° æ–°é—»çƒ­ç‚¹</div>
        <nav class="sidebar-nav">
            <div class="sidebar-item active" onclick="switchTab('all', this)">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/></svg>
                é¦–é¡µæ¨è
            </div>
            <div class="sidebar-item" onclick="switchTab('shanghai', this)">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/></svg>
                ğŸ™ï¸ ä¸Šæµ·æ–°é—»
            </div>
            <div class="sidebar-item" onclick="switchTab('world', this)">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                ğŸŒ å›½é™…æ–°é—»
            </div>
            <div class="sidebar-item" onclick="switchTab('ai', this)">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/></svg>
                ğŸ¤– AIç§‘æŠ€
            </div>
            <div class="sidebar-item" onclick="switchTab('stocks', this)">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"/></svg>
                ğŸ“ˆ ç¾è‚¡åŠ¨æ€
            </div>
            <div class="sidebar-item" onclick="switchTab('policy', this)">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z"/></svg>
                ğŸ‡¨ğŸ‡³ æ”¿ç­–è§£è¯»
            </div>
        </nav>
        <div class="sidebar-footer">
            <div class="sidebar-item" onclick="toggleTheme()">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/></svg>
                <span id="theme-text">æ·±è‰²æ¨¡å¼</span>
            </div>
        </div>
    </aside>

    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <header class="top-nav">
        <div class="search-box">
            <input type="text" placeholder="æœç´¢æ„Ÿå…´è¶£çš„æ–°é—»..." id="search-input">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
        </div>
        <div class="top-nav-right">
            <span id="update-time" style="font-size: 13px; color: var(--text-tertiary);"></span>
            <button class="theme-btn" onclick="toggleTheme()" title="åˆ‡æ¢ä¸»é¢˜">ğŸŒ™</button>
        </div>
    </header>

    <!-- ä¸»å†…å®¹åŒº -->
    <main class="main-container">
        <!-- åˆ†ç±»æ ‡ç­¾ -->
        <div class="category-tabs" id="category-tabs">
            <button class="tab-btn active" onclick="filterCategory('all', this)">å…¨éƒ¨</button>
            <button class="tab-btn" onclick="filterCategory('shanghai', this)">ä¸Šæµ·</button>
            <button class="tab-btn" onclick="filterCategory('world', this)">å›½é™…</button>
            <button class="tab-btn" onclick="filterCategory('ai', this)">AIç§‘æŠ€</button>
            <button class="tab-btn" onclick="filterCategory('stocks', this)">ç¾è‚¡</button>
            <button class="tab-btn" onclick="filterCategory('policy', this)">æ”¿ç­–</button>
        </div>

        <!-- ç€‘å¸ƒæµå†…å®¹ -->
        <div class="waterfall" id="news-grid">
            <div class="loading">åŠ è½½ä¸­...</div>
        </div>
    </main>

    <!-- è¯¦æƒ…å¼¹çª— -->
    <div class="modal" id="modal" onclick="closeModal(event)">
        <div class="modal-content" onclick="event.stopPropagation()">
            <button class="modal-close" onclick="closeModal()">Ã—</button>
            <div class="modal-body">
                <span class="modal-source" id="modal-source">æ¥æº</span>
                <h2 class="modal-title" id="modal-title">æ ‡é¢˜</h2>
                <div class="modal-summary" id="modal-summary">æ‘˜è¦</div>
                <a class="modal-link" id="modal-link" href="#" target="_blank">é˜…è¯»åŸæ–‡ â†’</a>
            </div>
        </div>
    </div>

    <script>
        let allNews = {};
        let currentTab = 'all';
        let currentCategory = 'all';

        // åˆ†ç±»é…ç½®
        const categoryConfig = {
            shanghai: { icon: 'ğŸ™ï¸', label: 'ä¸Šæµ·', color: 'shanghai' },
            world: { icon: 'ğŸŒ', label: 'å›½é™…', color: 'world' },
            ai: { icon: 'ğŸ¤–', label: 'AI', color: 'ai' },
            stocks: { icon: 'ğŸ“ˆ', label: 'ç¾è‚¡', color: 'stocks' },
            policy: { icon: 'ğŸ‡¨ğŸ‡³', label: 'æ”¿ç­–', color: 'policy' }
        };

        // åŠ è½½æ–°é—»
        async function loadNews() {
            try {
                const response = await fetch('data.json?t=' + Date.now());
                allNews = await response.json();
                renderNews();
                
                document.getElementById('update-time').textContent = 
                    new Date().toLocaleString('zh-CN', { 
                        month: '2-digit', day: '2-digit', 
                        hour: '2-digit', minute: '2-digit' 
                    }) + ' æ›´æ–°';
            } catch (error) {
                console.error('åŠ è½½å¤±è´¥:', error);
                document.getElementById('news-grid').innerHTML = 
                    '<div class="loading">åŠ è½½å¤±è´¥ï¼Œè¯·åˆ·æ–°é‡è¯•</div>';
            }
        }

        // æ¸²æŸ“æ–°é—»
        function renderNews() {
            const grid = document.getElementById('news-grid');
            grid.innerHTML = '';
            
            let items = [];
            
            if (currentCategory === 'all') {
                Object.entries(allNews).forEach(([category, news]) => {
                    if (Array.isArray(news)) {
                        news.forEach(item => {
                            items.push({ ...item, category });
                        });
                    }
                });
                items = items.sort(() => Math.random() - 0.5);
            } else {
                items = (allNews[currentCategory] || []).map(item => ({ 
                    ...item, 
                    category: currentCategory 
                }));
            }
            
            items = items.slice(0, 50);
            
            if (items.length === 0) {
                grid.innerHTML = '<div class="loading">æš‚æ— æ•°æ®</div>';
                return;
            }
            
            grid.innerHTML = items.map((item, index) => createCard(item, index)).join('');
        }

        // åˆ›å»ºå¡ç‰‡
        function createCard(item, index) {
            const config = categoryConfig[item.category] || { icon: 'ğŸ“°', label: 'æ–°é—»', color: '' };
            const cleanTitle = item.title.replace(/^[ğŸ ğŸ‘¥ğŸŒ¸ğŸš€âš¡ğŸ”‹ğŸ“ŠğŸ’ŠğŸª™â­â¬†ï¸ğŸ’¬ğŸ‡¨ğŸ‡³ğŸ”¥ğŸ”¬ğŸ“„ğŸ‡¨ğŸ‡³ğŸ“ˆ]

\s*/u, '');
            
            return `
                <div class="card" onclick="openModal(${index})">
                    <div class="card-image ${config.color}">
                        ${item.image ? `<img src="${item.image}" alt="${cleanTitle}" loading="lazy">` : ''}
                        <span class="card-badge">${config.label}</span>
                    </div>
                    <div class="card-content">
                        <h3 class="card-title">${cleanTitle}</h3>
                        <div class="card-meta">
                            <div class="card-author">
                                <div class="card-avatar">${item.source.charAt(0)}</div>
                                <span>${item.source}</span>
                            </div>
                            <span>${item.time || ''}</span>
                        </div>
                    </div>
                </div>
            `;
        }

        // åˆ‡æ¢ä¾§è¾¹æ æ ‡ç­¾
        function switchTab(tab, element) {
            currentTab = tab;
            currentCategory = tab;
            
            document.querySelectorAll('.sidebar-item').forEach(el => el.classList.remove('active'));
            element.classList.add('active');
            
            document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
            const tabBtn = Array.from(document.querySelectorAll('.tab-btn')).find(el => 
                el.textContent.includes(categoryConfig[tab]?.label || 'å…¨éƒ¨')
            );
            if (tabBtn) tabBtn.classList.add('active');
            
            renderNews();
        }

        // åˆ‡æ¢åˆ†ç±»æ ‡ç­¾
        function filterCategory(category, element) {
            currentCategory = category;
            
            document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
            element.classList.add('active');
            
            renderNews();
        }

        // æ‰“å¼€å¼¹çª—
        function openModal(index) {
            let items = [];
            
            if (currentCategory === 'all') {
                Object.entries(allNews).forEach(([category, news]) => {
                    if (Array.isArray(news)) {
                        news.forEach(item => items.push({ ...item, category }));
                    }
                });
            } else {
                items = (allNews[currentCategory] || []).map(item => ({ 
                    ...item, 
                    category: currentCategory 
                }));
            }
            
            const item = items[index];
            if (!item) return;
            
            document.getElementById('modal-title').textContent = 
                item.title.replace(/^[ğŸ ğŸ‘¥ğŸŒ¸ğŸš€âš¡ğŸ”‹ğŸ“ŠğŸ’ŠğŸª™â­â¬†ï¸ğŸ’¬ğŸ‡¨ğŸ‡³ğŸ”¥ğŸ”¬ğŸ“„ğŸ‡¨ğŸ‡³ğŸ“ˆ]

\s*/u, '');
            document.getElementById('modal-source').textContent = item.source;
            document.getElementById('modal-summary').textContent = item.summary || 'æš‚æ— æ‘˜è¦';
            document.getElementById('modal-link').href = item.link;
            
            document.getElementById('modal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        // å…³é—­å¼¹çª—
        function closeModal(event) {
            if (!event || event.target === document.getElementById('modal') || 
                event.target.classList.contains('modal-close')) {
                document.getElementById('modal').classList.remove('active');
                document.body.style.overflow = '';
            }
        }

        // ä¸»é¢˜åˆ‡æ¢
        function toggleTheme() {
            const html = document.documentElement;
            const currentTheme = html.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            html.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            
            const themeText = document.getElementById('theme-text');
            if (themeText) themeText.textContent = newTheme === 'dark' ? 'æµ…è‰²æ¨¡å¼' : 'æ·±è‰²æ¨¡å¼';
            
            document.querySelector('.theme-btn').textContent = newTheme === 'dark' ? 'â˜€ï¸' : 'ğŸŒ™';
        }

        // åˆå§‹åŒ–ä¸»é¢˜
        function initTheme() {
            const savedTheme = localStorage.getItem('theme');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            const theme = savedTheme || (prefersDark ? 'dark' : 'light');
            
            document.documentElement.setAttribute('data-theme', theme);
            document.querySelector('.theme-btn').textContent = theme === 'dark' ? 'â˜€ï¸' : 'ğŸŒ™';
            
            const themeText = document.getElementById('theme-text');
            if (themeText) themeText.textContent = theme === 'dark' ? 'æµ…è‰²æ¨¡å¼' : 'æµ…è‰²æ¨¡å¼';
        }

        // æœç´¢åŠŸèƒ½
        document.getElementById('search-input')?.addEventListener('input', (e) => {
            const keyword = e.target.value.toLowerCase();
            if (!keyword) {
                renderNews();
                return;
            }
            
            let items = [];
            Object.entries(allNews).forEach(([category, news]) => {
                if (Array.isArray(news)) {
                    news.forEach(item => {
                        if (item.title.toLowerCase().includes(keyword)) {
                            items.push({ ...item, category });
                        }
                    });
                }
            });
            
            const grid = document.getElementById('news-grid');
            grid.innerHTML = items.map((item, index) => createCard(item, index)).join('');
        });

        // ESCå…³é—­å¼¹çª—
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closeModal();
        });

        // åˆå§‹åŒ–
        initTheme();
        loadNews();
    </script>
</body>
</html>
